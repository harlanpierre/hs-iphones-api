{
  "info": {
    "_postman_id": "b1b2c3d4-e5f6-7890-1234-56789abcdef0",
    "name": "HS iPhones API",
    "description": "Endpoints para gestão de ERP, PDV e OS da loja HS iPhones.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. CEP",
      "item": [
        {
          "name": "Buscar Endereço por CEP",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cep/51000000",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cep",
                "51000000"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "2. Clientes",
      "item": [
        {
          "name": "Cadastrar Cliente",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"João da Silva\",\n  \"cpf\": \"123.456.789-00\",\n  \"email\": \"joao.silva@email.com\",\n  \"phone\": \"(81) 99999-8888\",\n  \"address\": {\n    \"street\": \"Av. Boa Viagem\",\n    \"number\": \"1500\",\n    \"complement\": \"Apto 101, Bloco B\",\n    \"district\": \"Boa Viagem\",\n    \"city\": \"Recife\",\n    \"state\": \"PE\",\n    \"zipCode\": \"51000-000\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/clients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients"
              ]
            }
          }
        },
        {
          "name": "Listar Todos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/clients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients"
              ]
            }
          }
        },
        {
          "name": "Buscar por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/clients/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "1"
              ]
            }
          }
        },
        {
          "name": "Buscar por CPF",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/clients/cpf/12345678900",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "cpf",
                "12345678900"
              ]
            }
          }
        },
        {
          "name": "Atualizar Cliente",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"João da Silva (Atualizado)\",\n  \"cpf\": \"123.456.789-00\",\n  \"email\": \"joao.silva@email.com\",\n  \"phone\": \"(81) 98888-7777\",\n  \"address\": {\n    \"street\": \"Av. Conselheiro Aguiar\",\n    \"number\": \"2000\",\n    \"complement\": \"\",\n    \"district\": \"Boa Viagem\",\n    \"city\": \"Recife\",\n    \"state\": \"PE\",\n    \"zipCode\": \"51011-000\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/clients/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "1"
              ]
            }
          }
        },
        {
          "name": "Deletar Cliente",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/clients/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "3. Fornecedores",
      "item": [
        {
          "name": "Cadastrar Fornecedor",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Distribuidora Apple Nordeste\",\n  \"cpfCnpj\": \"12.345.678/0001-90\",\n  \"phone\": \"(81) 3322-4455\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/suppliers",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "suppliers"
              ]
            }
          }
        },
        {
          "name": "Listar Todos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/suppliers",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "suppliers"
              ]
            }
          }
        },
        {
          "name": "Buscar por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/suppliers/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "suppliers",
                "1"
              ]
            }
          }
        },
        {
          "name": "Busca Inteligente (Search)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/suppliers/search?filter=Apple",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "suppliers",
                "search"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "Apple"
                }
              ]
            }
          }
        },
        {
          "name": "Atualizar Fornecedor",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Distribuidora Apple Brasil\",\n  \"cpfCnpj\": \"12.345.678/0001-90\",\n  \"phone\": \"(11) 4433-2211\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/suppliers/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "suppliers",
                "1"
              ]
            }
          }
        },
        {
          "name": "Deletar Fornecedor",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/suppliers/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "suppliers",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "4. Produtos",
      "item": [
        {
          "name": "Cadastrar Produto",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"iPhone 15 Pro Max 256GB Titânio Natural\",\n  \"description\": \"Aparelho seminovo em estado de novo.\",\n  \"sku\": \"CEL-IPH15-001\",\n  \"category\": \"CELULAR\",\n  \"purchasePrice\": 4500.00,\n  \"salePrice\": 6200.00,\n  \"quantity\": 1,\n  \"minStock\": 1,\n  \"imeis\": [\n    \"354682090001234\"\n  ],\n  \"supplierId\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/products",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products"
              ]
            }
          }
        },
        {
          "name": "Listar Todos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products"
              ]
            }
          }
        },
        {
          "name": "Listar Disponíveis",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/available",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products",
                "available"
              ]
            }
          }
        },
        {
          "name": "Filtrar por Categoria e Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/filter?category=PECA&status=DISPONIVEL",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products",
                "filter"
              ],
              "query": [
                {
                  "key": "category",
                  "value": "PECA"
                },
                {
                  "key": "status",
                  "value": "DISPONIVEL"
                }
              ]
            }
          }
        },
        {
          "name": "Buscar por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products",
                "1"
              ]
            }
          }
        },
        {
          "name": "Histórico de IMEI",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/history/354682090001234",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products",
                "history",
                "354682090001234"
              ]
            }
          }
        },
        {
          "name": "Atualizar Produto",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"iPhone 15 Pro Max 256GB Titânio Natural\",\n  \"description\": \"Preço atualizado.\",\n  \"category\": \"CELULAR\",\n  \"purchasePrice\": 4500.00,\n  \"salePrice\": 6000.00,\n  \"quantity\": 1,\n  \"minStock\": 1,\n  \"supplierId\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/products/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products",
                "1"
              ]
            }
          }
        },
        {
          "name": "Deletar Produto",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "5. Reparos Internos (BuyBack)",
      "item": [
        {
          "name": "Registrar Reparo Interno",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneId\": 1,\n  \"parts\": [\n    {\n      \"partId\": 2,\n      \"quantity\": 1\n    }\n  ],\n  \"laborCost\": 150.00,\n  \"laborDescription\": \"Reparo de placa (FaceID)\",\n  \"notes\": \"Troca de tela e reparo no FaceID\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/repairs/internal",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "repairs",
                "internal"
              ]
            }
          }
        },
        {
          "name": "Finalizar Reparo",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/repairs/internal/1/finish",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "repairs",
                "internal",
                "1",
                "finish"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "6. Assistência Técnica (O.S)",
      "item": [
        {
          "name": "Abrir Ordem de Serviço",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"clientId\": 1,\n  \"deviceModel\": \"iPhone 13 Pro Max\",\n  \"deviceImeiSerial\": \"354123456789012\",\n  \"reportedIssue\": \"Aparelho não carrega\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/services/os",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "services",
                "os"
              ]
            }
          }
        },
        {
          "name": "Adicionar Peça na O.S",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": 2,\n  \"quantity\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/services/os/1/parts",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "services",
                "os",
                "1",
                "parts"
              ]
            }
          }
        },
        {
          "name": "Avançar Status da O.S",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/services/os/1/status?status=IN_PROGRESS",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "services",
                "os",
                "1",
                "status"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "IN_PROGRESS"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "7. Vendas / PDV",
      "item": [
        {
          "name": "Criar Orçamento",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"clientId\": 1,\n  \"sellerName\": \"Carlos Silva\",\n  \"notes\": \"Orçamento pendente de aprovação\",\n  \"discountAmount\": 0.00,\n  \"items\": [\n    {\n      \"productId\": 1,\n      \"imei\": \"354682090001234\",\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/sales/budget",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sales",
                "budget"
              ]
            }
          }
        },
        {
          "name": "Venda Direta (Checkout)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"clientId\": 1,\n  \"sellerName\": \"Carlos Silva\",\n  \"discountAmount\": 200.00,\n  \"items\": [\n    {\n      \"productId\": 1,\n      \"imei\": \"354682090001234\",\n      \"quantity\": 1\n    }\n  ],\n  \"payments\": [\n    {\n      \"method\": \"PIX\",\n      \"amount\": 6000.00,\n      \"installments\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/sales/checkout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sales",
                "checkout"
              ]
            }
          }
        },
        {
          "name": "Reservar Orçamento",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/sales/1/reserve",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sales",
                "1",
                "reserve"
              ]
            }
          }
        },
        {
          "name": "Pagar e Concluir Orçamento",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"method\": \"PIX\",\n    \"amount\": 6200.00,\n    \"installments\": 1\n  }\n]"
            },
            "url": {
              "raw": "{{base_url}}/sales/1/pay",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sales",
                "1",
                "pay"
              ]
            }
          }
        },
        {
          "name": "Gerar Recibo (HTML)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/sales/1/receipt",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sales",
                "1",
                "receipt"
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "type": "string"
    }
  ]
}